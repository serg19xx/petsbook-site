---
description: 
globs: 
alwaysApply: false
---
# üìù Project Rules: PetsBook Backend

## General
- Language: PHP
- Framework: FlightPHP
- Templates: Twig (only for emails)
- Database: MySQL/MariaDB
- Mail Services: SendGrid, MailTrap, MailJet
- Migration: ‚ùå NOT USED (manual DB changes)
- Authentication: Cookie-based sessions, no Bearer tokens

## Directory Structure
- /src/Controllers/ ‚Üí API endpoints (UserController.php, PetsController.php, etc.)
- /src/Models/ ‚Üí Data access & logic (e.g., User.php, Pet.php)
- /src/Services/ ‚Üí Services like AuthService.php, MailService.php
- /src/Helpers/ ‚Üí Utility functions (non-OOP where possible)
- /views/ ‚Üí Twig templates for email
- /DATABASE_CHANGES.md ‚Üí Manual change log of DB schema changes

## Coding Style
- Follow PSR-12 PHP Coding Standards
- Avoid unnecessary abstraction; keep it procedural where efficient
- One function = one task, prefer pure functions

## ‚ö†Ô∏è Stable Modules Protection
- Protect tested and deployed files:
  - /src/Controllers/
  - /src/Models/
  - /DATABASE_CHANGES.md
  - /.env ‚Üí NEVER modify

## Interaction with Frontend
- REST API ‚Üí JSON responses only
- Error format:
```json
{
  "error": true,
  "message": "Validation failed"
}